(this["webpackJsonpra-hw-4.2-workout-accounting"]=this["webpackJsonpra-hw-4.2-workout-accounting"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),i=n(10),d=n.n(i),r=(n(15),n(4)),s=n(8),o=n(1),l=n(6),j=n(9),u=(n(16),n(17),n(0));function b(e){var t=e.onSubmit,n=e.onChange,c=e.form;return Object(u.jsxs)("form",{className:"Form",onSubmit:function(e){e.preventDefault(),t(c)},children:[Object(u.jsxs)("div",{className:"Form-control",children:[Object(u.jsx)("label",{htmlFor:"date",children:"\u0414\u0430\u0442\u0430 (\u0414\u0414.\u041c\u041c.\u0413\u0413)"}),Object(u.jsx)("input",{className:"Form-control__date",type:"date",id:"date",name:"date",required:!0,value:c.date,onChange:n})]}),Object(u.jsxs)("div",{className:"Form-control",children:[Object(u.jsx)("label",{htmlFor:"distance",children:"\u041f\u0440\u043e\u0439\u0434\u0435\u043d\u043e (\u043a\u043c.)"}),Object(u.jsx)("input",{className:"Form-control__distance",type:"number",id:"distance",name:"distance",min:"0",max:"100",required:!0,value:c.distance,onChange:n})]}),Object(u.jsx)("button",{className:"Form-control__button-ok",type:"submit",children:"OK"})]})}n(19),n(20);function O(e){var t=e.id,n=e.date,c=e.distance,a=e.onDeleteClick,i=e.onEditClick;return Object(u.jsxs)("tr",{className:"TableRow",id:t,children:[Object(u.jsx)("td",{children:n}),Object(u.jsx)("td",{children:c}),Object(u.jsxs)("td",{children:[Object(u.jsx)("a",{className:"TableRow-control__edit",href:"#0",onClick:i,children:"\u270e"}),Object(u.jsx)("a",{className:"TableRow-control__delete",href:"#0",onClick:a,children:"\u2718"})]})]})}function h(e){var t=new Date(e);if("Invalid Date"===t.toString())return null;return new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"numeric",year:"numeric"}).format(t)}function m(e){var t=e.workouts,n=e.onDeleteClick,c=e.onEditClick;return Object(u.jsxs)("table",{className:"Table",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"\u0414\u0430\u0442\u0430 (\u0414\u0414.\u041c\u041c.\u0413\u0413)"}),Object(u.jsx)("th",{children:"\u041f\u0440\u043e\u0439\u0434\u0435\u043d\u043e (\u043a\u043c.)"}),Object(u.jsx)("th",{children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]})}),Object(u.jsx)("tbody",{children:t.map((function(e){return Object(u.jsx)(O,{id:e.id,date:h(e.date),distance:e.distance,onDeleteClick:n,onEditClick:c},e.id)}))})]})}function f(e){var t=new Date(e);return"Invalid Date"===t.toString()?1/0:t.getTime()}var x=[{id:"76OOH7xQPaqkVY6WJhpJ5",date:"2019-07-20",distance:"5.7"},{id:"Vmii-9M7fj9C6LpjSx1Eh",date:"2019-07-19",distance:"14.2"},{id:"WJ0HT1M9kA-IeAcSq6Quu",date:"2019-07-18",distance:"3.4"}];var v=function(){var e=Object(c.useState)(x),t=Object(l.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)({date:"",distance:""}),d=Object(l.a)(i,2),O=d[0],h=d[1],v=Object(c.useState)({state:!1,index:""}),g=Object(l.a)(v,2),k=g[0],C=g[1];function p(e){k.state?C({state:!1,index:""}):C({state:!0,index:e})}function w(e){var t=e.closest(".TableRow").id;return n.findIndex((function(e){return e.id===t}))}return Object(u.jsxs)("div",{className:"App-container",children:[Object(u.jsx)(b,{onSubmit:function(e){var t;if(k.state){var c=k.index;t=[].concat(Object(o.a)(n.slice(0,c)),[{id:n[c].id,date:e.date,distance:e.distance}],Object(o.a)(n.slice(c+1))),p()}else{var i=n.findIndex((function(t){return f(t.date)<=f(e.date)}));t=-1===i?[].concat(Object(o.a)(n.slice(0,n.length)),[{id:Object(j.a)(),date:e.date,distance:e.distance}]):f(n[i].date)===f(e.date)?[].concat(Object(o.a)(n.slice(0,i)),[{id:n[i].id,date:n[i].date,distance:String(+n[i].distance+ +e.distance)}],Object(o.a)(n.slice(i+1))):[].concat(Object(o.a)(n.slice(0,i)),[{id:Object(j.a)(),date:e.date,distance:e.distance}],Object(o.a)(n.slice(i)))}a(t),h({date:"",distance:""})},onChange:function(e){var t=e.target,n=t.name,c=t.value;h((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(r.a)({},n,c))}))},form:O}),Object(u.jsx)(m,{workouts:n,onDeleteClick:function(e){var t=w(e.target),c=[].concat(Object(o.a)(n.slice(0,t)),Object(o.a)(n.slice(t+1)));a(c)},onEditClick:function(e){var t=w(e.target);h({date:n[t].date,distance:n[t].distance}),p(t)}})]})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,d=t.getTTFB;n(e),c(e),a(e),i(e),d(e)}))};d.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(v,{})}),document.getElementById("root")),g()}],[[21,1,2]]]);
//# sourceMappingURL=main.6893b44b.chunk.js.map